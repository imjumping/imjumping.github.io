<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN" "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" version="XHTML+RDFa 1.0" xml:lang="zh-CN">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <meta name="Keywords" content="" />
    <meta name="Description" content="" />
    <meta name="Generator" content="仿人教电子课本系统 - 纯CSS 3D翻书" />

    <link rel="image_src" href="" />
    <link rel="apple-touch-icon" href="" />
    <meta property="og:image" content="" />
    <meta property="og:title" content="翻书" />
    <meta property="og:description" content="" />

    <title>翻书</title>

    <style>
        /* === 核心容器 === */
        body {
            margin: 0;
            padding: 0;
            background-color: #f5f5f5; /* 人教风格背景灰 */
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px; /* 关键：创建3D景深，模仿人教书本的立体感 */
        }

        #book {
            width: 800px;
            height: 600px;
            position: relative;
            transform-style: preserve-3d; /* 关键：让子元素保持3D空间 */
        }

        /* === 书页结构 === */
        .paper {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1.2s ease-in-out;
        }

        /* 每一页的正反面 */
        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* 关键：背面不可见，避免翻转时看到背面 */
            background-color: white !important; /* 纯白页面 */
            display: flex;
            justify-content: center;
            align-items: center;
            /* 用伪元素模拟人教风格的“书脊阴影” */
        }

        .page::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 1px; /* 书缝宽度 */
            background: linear-gradient(to bottom, rgba(0,0,0,0.05), rgba(0,0,0,0.1)); /* 极淡的阴影，模拟书缝 */
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
        }

        /* 正面页面（显示在前） */
        .page-front {
            z-index: 2;
            transform: translateZ(1px); /* 关键：确保正面在背面之上，避免层叠闪烁 */
        }

        /* 背面页面（翻转后显示） */
        .page-back {
            z-index: 1;
            transform: rotateY(180deg) translateZ(1px); /* 翻转180度，并确保在正面下方 */
        }

        /* === 翻页逻辑 === */
        /* 默认：第一页在左边，第二页在右边 */
        .paper:nth-child(1) {
            left: 0;
            transform: rotateY(0deg);
        }
        .paper:nth-child(2) {
            left: 0;
            transform: rotateY(0deg);
        }

        /* 翻页状态：当 .paper 被添加了 'flipped' 类时，执行翻转 */
        .paper.flipped {
            transform: rotateY(-180deg);
        }

        /* 翻页完成后，下一页变为当前页 */
        .paper:nth-child(2).flipped ~ .paper {
            left: 0;
        }

        /* 防止选中 */
        #book, .page {
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -khtml-user-select: none;
        }
    </style>
</head>
<body>
    <!-- 书本容器，每张纸包含正反两页 -->
    <div id="book">
        <!-- 第一页 -->
        <div class="paper" data-page="1">
            <div class="page page-front"></div>
            <div class="page page-back"></div>
        </div>
        <!-- 第二页 -->
        <div class="paper" data-page="2">
            <div class="page page-front"></div>
            <div class="page page-back"></div>
        </div>
        <!-- 第三页 -->
        <div class="paper" data-page="3">
            <div class="page page-front"></div>
            <div class="page page-back"></div>
        </div>
        <!-- 第四页 -->
        <div class="paper" data-page="4">
            <div class="page page-front"></div>
            <div class="page page-back"></div>
        </div>
    </div>

    <!-- 无需引入任何外部JS库，仅用原生JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const book = document.getElementById('book');
            const papers = Array.from(book.querySelectorAll('.paper'));
            let currentPage = 0;
            let isAnimating = false;

            // 点击任意位置翻页
            book.addEventListener('click', function() {
                if (isAnimating || currentPage >= papers.length - 1) return;

                isAnimating = true;
                papers[currentPage].classList.add('flipped');

                // 延迟执行，模拟动画结束
                setTimeout(() => {
                    // 更新当前页
                    currentPage++;
                    isAnimating = false;
                }, 1200); // 与CSS动画时间一致
            });

            // 确保第一页初始状态正确
            papers[0].querySelector('.page-front').classList.add('page-front');
            papers[0].querySelector('.page-back').classList.add('page-back');
        });
    </script>

    <!-- 保留人教埋点结构 -->
    <script>
        var sendvisitinfo = function(type, page) {};
        window.onload = function() {
            if (typeof pepPoints !== 'undefined' && pepPoints.loader && pepPoints.loader.dataReport) {
                pepPoints.loader.dataReport({
                    product_id: '',
                    company: ''
                });
            }
        }
    </script>
</body>
</html>